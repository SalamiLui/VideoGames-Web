{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/components/Header.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"dropdown\": \"Header-module__GPz-la__dropdown\",\n  \"dropdownItem\": \"Header-module__GPz-la__dropdownItem\",\n  \"gift\": \"Header-module__GPz-la__gift\",\n  \"header\": \"Header-module__GPz-la__header\",\n  \"headerInner\": \"Header-module__GPz-la__headerInner\",\n  \"menuItem\": \"Header-module__GPz-la__menuItem\",\n  \"siteTitle\": \"Header-module__GPz-la__siteTitle\",\n  \"submenu\": \"Header-module__GPz-la__submenu\",\n  \"titleWrap\": \"Header-module__GPz-la__titleWrap\",\n  \"userMenu\": \"Header-module__GPz-la__userMenu\",\n  \"vibrate\": \"Header-module__GPz-la__vibrate\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/juanl/Documents/Escola/web/next%20shit/shitapp/src/app/components/Header.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Link from 'next/link'\r\nimport { useEffect, useState } from 'react'\r\nimport styles from './Header.module.css'\r\n\r\ninterface HeaderProps {\r\n  cartCount?: number\r\n}\r\n\r\nexport default function Header({ cartCount = 0 }: HeaderProps) {\r\n  const [username, setUsername] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n\r\n    const checkToken = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) return;\r\n\r\n      const API_URL = \"http://localhost:8081/verify\";\r\n      try {\r\n        const res = await fetch(API_URL, {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": `Bearer ${token}`,\r\n            },\r\n        });\r\n        if (!res.ok) {\r\n            localStorage.removeItem(\"token\");\r\n            localStorage.removeItem(\"userID\");\r\n            setUsername(null);\r\n            return;\r\n        }\r\n        const data = await res.json();\r\n        if (!data.valid){\r\n            localStorage.removeItem(\"token\");\r\n            localStorage.removeItem(\"userID\");\r\n            setUsername(null);\r\n            return;\r\n        }\r\n\r\n        setUsername(data.claims.username);\r\n        localStorage.setItem(\"userID\", data.user_id);\r\n      }\r\n      catch (error) {\r\n        setUsername(\"hitler\");\r\n      }\r\n    }\r\n\r\n\r\n    checkToken()\r\n\r\n  }, []);\r\n\r\n\r\n  const handleLogout = () =>  {\r\n     localStorage.removeItem(\"token\")\r\n     localStorage.removeItem(\"userID\")\r\n     setUsername(null)\r\n  }\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.headerInner}>\r\n        <div className={styles.gift}>\r\n          <img src=\"/images/jeff.gif\" alt=\"gift\" width={85} />\r\n        </div>\r\n        <div className={styles.titleWrap}>\r\n          <h1 className={styles.siteTitle}>Another Shitty Page</h1>\r\n        </div>\r\n\r\n        <nav className={styles.submenu}>\r\n          {username ? (\r\n            <div className={styles.userMenu}>\r\n              <span className={styles.menuItem}>{username}</span>\r\n              <div className={styles.dropdown}>\r\n                <Link href=\"#\"><span className={styles.dropdownItem}>Cart ({cartCount})</span></Link>\r\n                <Link href=\"#\"><span className={styles.dropdownItem}>Wishlist</span></Link>\r\n                <Link href=\"#\"><span className={styles.dropdownItem}>Settings</span></Link>\r\n                <span\r\n                  className={styles.dropdownItem}\r\n                  style={{cursor: 'pointer'}}\r\n                  onClick={handleLogout}>\r\n                  logout\r\n                </span>\r\n\r\n              </div>\r\n            </div>\r\n          ) : (\r\n          <Link href=\"/login\"><span className={styles.menuItem}>Login</span></Link>\r\n          )}\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAUe,SAAS,OAAO,EAAE,YAAY,CAAC,EAAe;IAC3D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAgB;IAExD,IAAA,kNAAS,EAAC;QAER,MAAM,aAAa;YACnB,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO;YAEV,MAAM,UAAU;YAChB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,SAAS;oBAC7B,QAAQ;oBACR,SAAS;wBACL,gBAAgB;wBAChB,iBAAiB,CAAC,OAAO,EAAE,OAAO;oBACtC;gBACJ;gBACA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACT,aAAa,UAAU,CAAC;oBACxB,aAAa,UAAU,CAAC;oBACxB,YAAY;oBACZ;gBACJ;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,CAAC,KAAK,KAAK,EAAC;oBACZ,aAAa,UAAU,CAAC;oBACxB,aAAa,UAAU,CAAC;oBACxB,YAAY;oBACZ;gBACJ;gBAEA,YAAY,KAAK,MAAM,CAAC,QAAQ;gBAChC,aAAa,OAAO,CAAC,UAAU,KAAK,OAAO;YAC7C,EACA,OAAO,OAAO;gBACZ,YAAY;YACd;QACF;QAGA;IAEF,GAAG,EAAE;IAGL,MAAM,eAAe;QAClB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,YAAY;IACf;IAEA,qBACE,8OAAC;QAAO,WAAW,yJAAM,CAAC,MAAM;kBAC9B,cAAA,8OAAC;YAAI,WAAW,yJAAM,CAAC,WAAW;;8BAChC,8OAAC;oBAAI,WAAW,yJAAM,CAAC,IAAI;8BACzB,cAAA,8OAAC;wBAAI,KAAI;wBAAmB,KAAI;wBAAO,OAAO;;;;;;;;;;;8BAEhD,8OAAC;oBAAI,WAAW,yJAAM,CAAC,SAAS;8BAC9B,cAAA,8OAAC;wBAAG,WAAW,yJAAM,CAAC,SAAS;kCAAE;;;;;;;;;;;8BAGnC,8OAAC;oBAAI,WAAW,yJAAM,CAAC,OAAO;8BAC3B,yBACC,8OAAC;wBAAI,WAAW,yJAAM,CAAC,QAAQ;;0CAC7B,8OAAC;gCAAK,WAAW,yJAAM,CAAC,QAAQ;0CAAG;;;;;;0CACnC,8OAAC;gCAAI,WAAW,yJAAM,CAAC,QAAQ;;kDAC7B,8OAAC,uKAAI;wCAAC,MAAK;kDAAI,cAAA,8OAAC;4CAAK,WAAW,yJAAM,CAAC,YAAY;;gDAAE;gDAAO;gDAAU;;;;;;;;;;;;kDACtE,8OAAC,uKAAI;wCAAC,MAAK;kDAAI,cAAA,8OAAC;4CAAK,WAAW,yJAAM,CAAC,YAAY;sDAAE;;;;;;;;;;;kDACrD,8OAAC,uKAAI;wCAAC,MAAK;kDAAI,cAAA,8OAAC;4CAAK,WAAW,yJAAM,CAAC,YAAY;sDAAE;;;;;;;;;;;kDACrD,8OAAC;wCACC,WAAW,yJAAM,CAAC,YAAY;wCAC9B,OAAO;4CAAC,QAAQ;wCAAS;wCACzB,SAAS;kDAAc;;;;;;;;;;;;;;;;;6CAO/B,8OAAC,uKAAI;wBAAC,MAAK;kCAAS,cAAA,8OAAC;4BAAK,WAAW,yJAAM,CAAC,QAAQ;sCAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMhE","debugId":null}}]
}